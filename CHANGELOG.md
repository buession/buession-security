 Buession Security Changelog
===========================


## [2.3.2](https://github.com/buession/buession-security/releases/tag/v2.3.2) (2023-xx-xx)

### ğŸ”¨ä¾èµ–å‡çº§

- [ä¾èµ–åº“ç‰ˆæœ¬å‡çº§å’Œå®‰å…¨æ¼æ´ä¿®å¤](https://github.com/buession/buession-parent/releases/tag/v2.3.2)
- [owasp antisamy](https://github.com/nahsra/antisamy) ç‰ˆæœ¬å‡çº§è‡³ 1.7.4


### â­ æ–°ç‰¹æ€§

- **


### ğŸ”” å˜åŒ–

- **buession-security-shiroï¼š** ä¾èµ– javax.servlet.jsp-api æ›´æ¢ä¸º jakarta.servlet.jsp-api


---


## [2.3.1](https://github.com/buession/buession-security/releases/tag/v2.3.1) (2023-11-17)

### ğŸ”¨ä¾èµ–å‡çº§

- [ä¾èµ–åº“ç‰ˆæœ¬å‡çº§å’Œå®‰å…¨æ¼æ´ä¿®å¤](https://github.com/buession/buession-parent/releases/tag/v2.3.1)
- [owasp antisamy](https://github.com/nahsra/antisamy) ç‰ˆæœ¬å‡çº§è‡³ 1.7.3


### â­ æ–°ç‰¹æ€§

- **buession-security-shiroï¼š** æ–°å¢ä»»æ„æƒé™ jsp tag HasAnyPermissionsTag


### ğŸ”” å˜åŒ–

- **buession-security-mcryptï¼š** Base64 ç¼–ç ã€è§£ç ä½¿ç”¨ java å†…ç½® API
- **buession-security-pac4jï¼š** cas client ä¸å†é»˜è®¤å¼•ç”¨
- **buession-security-webï¼š** ç§»é™¤ org.bouncycastle ä¾èµ–


---


## [2.3.0](https://github.com/buession/buession-security/releases/tag/v2.3.0) (2023-08-17)

### ğŸ”¨ä¾èµ–å‡çº§

- [ä¾èµ–åº“ç‰ˆæœ¬å‡çº§å’Œå®‰å…¨æ¼æ´ä¿®å¤](https://github.com/buession/buession-parent/releases/tag/v2.3.0)
- [owasp antisamy](https://github.com/nahsra/antisamy) ç‰ˆæœ¬å‡çº§è‡³ 1.7.2


### â­ æ–°ç‰¹æ€§

- **buession-security-cryptoï¼š** æ–°å¢è¯¥æ¨¡å—ï¼Œé€æ­¥æ›¿ä»£ buession-security-mcrypt
- **buession-security-mcryptï¼š** æ–°å¢ SM3ã€SM4 åŠ å¯†
- **buession-security-mcryptï¼š** æ–°å¢ ShaPasswordGeneratorã€Sm3PasswordGeneratorã€Sm4PasswordGenerator å¯†ç ç”Ÿæˆå™¨


### âª ä¼˜åŒ–

- å…¶å®ƒä¼˜åŒ–


---


## [2.2.1](https://github.com/buession/buession-security/releases/tag/v2.2.1) (2022-03-31)

### ğŸ”¨ä¾èµ–å‡çº§

- [ä¾èµ–åº“ç‰ˆæœ¬å‡çº§å’Œå®‰å…¨æ¼æ´ä¿®å¤](https://github.com/buession/buession-parent/releases/tag/v2.2.1)


---


## [2.2.0](https://github.com/buession/buession-security/releases/tag/v2.2.0) (2022-03-10)

### ğŸ”¨ä¾èµ–å‡çº§

- [ä¾èµ–åº“ç‰ˆæœ¬å‡çº§å’Œå®‰å…¨æ¼æ´ä¿®å¤](https://github.com/buession/buession-parent/releases/tag/v2.2.0)
- [owasp antisamy](https://github.com/nahsra/antisamy) ç‰ˆæœ¬å‡çº§è‡³ 1.7.1


### â­ æ–°ç‰¹æ€§

- **buession-security-webï¼š** æ–°å¢å®éªŒæ€§ jackson HttpMessageConverter æ”¯æŒ XSS è¿‡æ»¤


### ğŸ”” å˜åŒ–

- **buession-security-captchaï¼š** AliYunCaptchaClient æ„é€ å‡½æ•°å‚æ•° regionId ä¸º null æˆ–ç©ºå­—ç¬¦ä¸²æ—¶ï¼Œä¸å†æŠ›å‡ºå¼‚å¸¸ï¼›è€Œä½¿ç”¨é»˜è®¤å€¼


### ğŸ Bug ä¿®å¤

- **buession-security-coreï¼š** ä¿®å¤ SameSite LAX å€¼


---


## [2.1.2](https://github.com/buession/buession-security/releases/tag/v2.1.2) (2022-11-13)

### ğŸ”¨ä¾èµ–å‡çº§

- [ä¾èµ–åº“ç‰ˆæœ¬å‡çº§å’Œå®‰å…¨æ¼æ´ä¿®å¤](https://github.com/buession/buession-parent/releases/tag/v2.1.2)


### ğŸ Bug ä¿®å¤

- **buession-security-captchaï¼š** ä¿®å¤æéªŒ v3 ç‰ˆæœ¬ç”Ÿæˆç­¾åé”™è¯¯çš„é—®é¢˜


---


## [2.1.1](https://github.com/buession/buession-security/releases/tag/v2.1.1) (2022-08-18)

### ğŸ”¨ä¾èµ–å‡çº§

- [ä¾èµ–åº“ç‰ˆæœ¬å‡çº§å’Œå®‰å…¨æ¼æ´ä¿®å¤](https://github.com/buession/buession-parent/releases/tag/v2.1.1)


### ğŸ”” å˜åŒ–

- **buession-security-pac4jï¼š** ProfileUtils.toMap(CommonProfile profile) ä» CommonProfile è½¬æ¢ä¸º Map ç”±é¦–å…ˆå†™å…¥ CommonProfile.getAttributes() çš„æ•°æ®ï¼Œå†ä¹Ÿå…¥å›ºæœ‰å­—æ®µçš„æ•°æ®è½¬æ¢ä¸ºå…ˆå†™å…¥å›ºæœ‰å­—æ®µçš„æ•°æ®ï¼Œå†å†™å…¥ CommonProfile.getAttributes() çš„æ•°æ®ï¼Œè¯¥å˜åŒ–å½±å“æ³¨è§£ @Principal çš„è½¬æ¢ç»“æœ
- **buession-security-pac4jï¼š** åºŸå¼ƒæ³¨è§£ @Principal çš„ idã€realName å±æ€§


### ğŸ Bug ä¿®å¤

- **buession-security-pac4jï¼š** ä¿®å¤ JsonAjaxRequestResolver è¿”å›å€¼ä¸æ˜¯åˆæ³• JSON å­—ç¬¦çš„ BUG


---


## [2.1.0](https://github.com/buession/buession-security/releases/tag/v2.1.0) (2022-08-07)

### ğŸ”¨ä¾èµ–å‡çº§

- [ä¾èµ–åº“ç‰ˆæœ¬å‡çº§å’Œå®‰å…¨æ¼æ´ä¿®å¤](https://github.com/buession/buession-parent/releases/tag/v2.1.0)
- [owasp antisamy](https://github.com/nahsra/antisamy) ç‰ˆæœ¬å‡çº§è‡³ 1.7.0


### â­ æ–°ç‰¹æ€§

- **buession-security-pac4jï¼š** æ³¨è§£ @Principal æ”¯æŒ webflux ç¯å¢ƒ
- **buession-security-webï¼š** æ–°å¢ ReferrerPolicy ç­–ç•¥è½¬æ¢å™¨ ReferrerPolicyConverter


### ğŸ”” å˜åŒ–

- **buession-security-mcryptï¼š** åºŸå¼ƒåŠ å¯†ç±»ä¸­ä»…ä¼ é€’å­—ç¬¦ä¸²å½¢å¼çš„ç¼–ç çš„æ„é€ å‡½æ•°
- **buession-security-pac4jï¼š** ä¼˜åŒ–æ³¨è§£ @Principal HandlerMethodArgumentResolverï¼Œç»§æ‰¿ spring åŸç”Ÿ HandlerMethodArgumentResolver å®ç°æŠ½è±¡ç±»


### ğŸ Bug ä¿®å¤

- **buession-security-webï¼š** ä¿®å¤ HttpSecurity æ„å»ºå™¨ ReactiveHttpSecurityBuilderã€ServletHttpSecurityBuilder ä¸­ Boolean ç±»å‹æœªåˆ¤æ–­ null çš„ BUG


---


## [2.0.2](https://github.com/buession/buession-security/releases/tag/v2.0.2) (2022-07-28)

### ğŸ”¨ä¾èµ–å‡çº§

- [ä¾èµ–åº“ç‰ˆæœ¬å‡çº§å’Œå®‰å…¨æ¼æ´ä¿®å¤](https://github.com/buession/buession-parent/releases/tag/v2.0.2)


### â­ æ–°ç‰¹æ€§

- **buession-security-mcryptï¼š** æ–°å¢ HMAC å¯†ç ç”Ÿæˆå™¨


### ğŸ Bug ä¿®å¤

- **buession-security-captchaï¼š** ä¿®å¤æéªŒ v4 ç‰ˆæœ¬ç­¾ååŠ å¯†é”™è¯¯çš„ BUG


---


## [2.0.1](https://github.com/buession/buession-security/releases/tag/v2.0.1) (2022-07-17)

### ğŸ”¨ä¾èµ–å‡çº§

- [ä¾èµ–åº“ç‰ˆæœ¬å‡çº§å’Œå®‰å…¨æ¼æ´ä¿®å¤](https://github.com/buession/buession-parent/releases/tag/v2.0.1)
- [owasp antisamy](https://github.com/nahsra/antisamy) ç‰ˆæœ¬å‡çº§è‡³ 1.6.8


### ğŸ”” å˜åŒ–

- **buession-security-webï¼š** å®‰å…¨é…ç½®ç±»ä¸­æ‰€æœ‰åŸºæœ¬ç±»å‹ï¼Œè°ƒæ•´ä¸ºåŒ…è£…ç±»å‹ 


### ğŸ Bug ä¿®å¤

- **buession-security-webï¼š** ä¿®å¤ ReactiveWebSecurityConfigurerAdapterConfiguration æ— å‚æ•°æ„é€ å‡½æ•°ï¼Œä¸ºåˆå§‹åŒ– Configurer çš„ BUG


### æ¼æ´ä¿®å¤

- [owasp antisamy](https://github.com/nahsra/antisamy) ä¿®å¤ [CVE-2022-29577](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-29577)ã€[CVE-2022-28367](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-28367)ã€[CVE-2021-35043](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-35043)ã€[CVE-2022-23437](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-23437)ã€[CVE-2021-29425](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-29425)ã€[CVE-2022-29546](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-29546) æ¼æ´


---


## [2.0.0](https://github.com/buession/buession-security/releases/tag/v2.0.0) (2022-07-07)

### ğŸ”¨ä¾èµ–å‡çº§

- [ä¾èµ–åº“ç‰ˆæœ¬å‡çº§å’Œå®‰å…¨æ¼æ´ä¿®å¤](https://github.com/buession/buession-parent/releases/tag/v2.0.0)


### â­ æ–°ç‰¹æ€§

- **buession-security-captchaï¼š** æ–°å¢æéªŒ V4 ç‰ˆæœ¬æ”¯æŒï¼Œé˜¿é‡Œäº‘ã€è…¾è®¯äº‘è¡Œä¸ºéªŒè¯ç 
- **buession-security-mcryptï¼š** æ–°å¢ HMACã€AESã€DES ç®—æ³•åŠ å¯†
- **buession-security-shiroï¼š** æ–°å¢ SameSite è½¬æ¢ä¸º Shiro Cookie.SameSiteOptions çš„è½¬æ¢å™¨ SameSiteToShiroSameSiteOptionsConverter
- **buession-security-webï¼š** æ–°å¢æµè§ˆå™¨å®‰å…¨é…ç½®ä»¥åŠæµè§ˆå™¨å®‰å…¨ Http Security æ„å»ºå™¨å’Œè‡ªåŠ¨é…ç½®ç±»


### ğŸ”” å˜åŒ–

- **buession-security-pac4jï¼š** ç§»é™¤ com.buession.security.pac4j.annotation.ProfileUtilsï¼Œä½¿ç”¨ com.buession.security.pac4j.profile.ProfileUtils æ›¿ä»£
- **buession-security-pac4jï¼š** Pac4jWebMvcConfigurerAdapter å¢åŠ  OnServletCondition æ¡ä»¶æ§åˆ¶
- **buession-security-pac4jï¼š** åºŸå¼ƒå®ç° pac4j å’Œ casã€shiro çš„é›†æˆï¼Œä½¿ç”¨ io.buji:buji-pac4j é›†æˆ
- **buession-security-shiroï¼š** ç§»é™¤ com.buession.security.shiro.cache.DefaultRedisManagerï¼Œä½¿ç”¨ com.buession.security.shiro.DefaultRedisManager æ›¿ä»£
- **buession-security-shiroï¼š** ç§»é™¤ com.buession.security.shiro.cache.RedisManagerï¼Œä½¿ç”¨ com.buession.security.shiro.RedisManager æ›¿ä»£
- **buession-security-shiroï¼š** interface åºŸå¼ƒ SessionDAO ï¼Œç›´æ¥å®ç° shiro SessionDAO
- **buession-security-shiroï¼š** interface åºŸå¼ƒ Cache ï¼Œç›´æ¥å®ç° shiro Cache
- **buession-security-shiroï¼š** interface åºŸå¼ƒ CacheManager ï¼Œç›´æ¥å®ç° shiro CacheManager
- **buession-security-shiroï¼š** ä¼˜åŒ– Session ç®¡ç†
- **buession-security-springï¼š** ç§»é™¤ Csrf Token ç”Ÿæˆå™¨ï¼Œç›´æ¥ä½¿ç”¨ spring security csrf token ç”Ÿæˆå™¨


### ğŸ Bug ä¿®å¤

- **buession-security-shiroï¼š** ä¿®å¤è·å–æ¿€æ´»çŠ¶æ€ Session BUG